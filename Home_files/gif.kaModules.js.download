(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{176:function(e,t,n){"use strict";var i=o(n(177)),a=n(187),l=o(n(285));function o(e){return e&&e.__esModule?e:{default:e}}n(259),window.renderKAGif=function(e){var t=e.getAttribute("src"),n=document.createElement("div");e.parentElement.replaceChild(n,e),(0,a.render)(i.default.createElement(l.default,{src:t,animSrc:t+"_anim"}),n)}},259:function(e,t,n){},285:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=f(n(206)),a=f(n(186)),l=f(n(181)),o=f(n(182)),r=f(n(183)),d=f(n(184)),s=f(n(185)),c=n(177),u=f(c),p=f(n(187)),g=n(179),m=(f(g),n(570));function f(e){return e&&e.__esModule?e:{default:e}}n(259);var h=function(e){function t(e){(0,o.default)(this,t);var n=(0,d.default)(this,(t.__proto__||(0,l.default)(t)).call(this,e));return n.state={playing:!1},n.onControlClick=n.onControlClick.bind(n),n.onBackgroundClick=n.onBackgroundClick.bind(n),n.onKeyDown=n.onKeyDown.bind(n),n.imgLoaded=n.imgLoaded.bind(n),n.renderGif=n.renderGif.bind(n),n}return(0,s.default)(t,e),(0,r.default)(t,[{key:"componentDidMount",value:function(){var e=p.default.findDOMNode(this.img);e.complete?this.imgLoaded():e.addEventListener("load",this.imgLoaded)}},{key:"onControlClick",value:function(e){e.stopPropagation(),this.props.onClick&&this.props.onClick(),this.setState({playing:!this.state.playing})}},{key:"onBackgroundClick",value:function(e){e.stopPropagation(),this.props.handleClick&&this.props.handleClick(0,this.img)||(this.props.onClick&&this.props.onClick(),this.setState({playing:!this.state.playing}))}},{key:"onKeyDown",value:function(e){32===(e||window.event).keyCode&&(this.setState({playing:!this.state.playing}),e.preventDefault())}},{key:"imgLoaded",value:function(){this.setState({loaded:!0})}},{key:"renderGif",value:function(){var e=this,t=(0,a.default)({},this.props);return delete t.animSrc,delete t.image,delete t.handleClick,delete t.onClick,this.state.playing||this.preLoaded||window.setTimeout(function(){(new Image).src=e.props.animSrc,e.preLoaded=!0},1),u.default.createElement("div",{className:"ka_gif_container",draggable:!1,tabIndex:0,onKeyDown:this.onKeyDown,onClick:this.onBackgroundClick},u.default.createElement("img",(0,i.default)({},t,{src:this.state.playing?this.props.animSrc:this.props.src,draggable:!1,ref:function(t){return e.img=t}})),this.state.loaded?u.default.createElement(c.Fragment,null,this.state.playing?u.default.createElement("img",{className:"ka_gif_play playing",src:g.imgRoot+"GIF_Pause.png",onClick:this.onControlClick,draggable:!1}):u.default.createElement("img",{className:"ka_gif_play paused",src:g.imgRoot+"GIF_Play.png",onClick:this.onControlClick,draggable:!1}),this.state.playing?null:u.default.createElement("div",{className:"ka_gif_label",draggable:!1},"GIF")):null)}},{key:"render",value:function(){var e=this.props.image?this.props.image.mediaID:this.props.src.split("id=")[1].split("&")[0];return u.default.createElement(c.Fragment,null,u.default.createElement(m.ContextMenuTrigger,{id:e,style:{display:"inline-block"},draggable:!1},this.renderGif()),u.default.createElement(m.ContextMenu,{id:e,className:"gifMenu"},u.default.createElement(m.MenuItem,{data:{url:this.props.animSrc,filename:this.props.image?this.props.image.originalFilename:e+".gif"},onClick:k},"Download GIF")))}}]),t}(c.Component),k=function(e,t){e.stopPropagation();var n=document.createElement("a");n.href=t.url,n.download=t.filename,n.style.display="none",document.body.appendChild(n),n.click(),document.body.removeChild(n)};t.default=h}}]);
//# sourceMappingURL=gif.kaModules.js.map